<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <script type="text/javascript" src="{{ url_for('static', filename='js/scripts.js') }}" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Edit Recipes</title>
</head>
<body>
    <!-- navbar---------------------------------------------------------->
    <div class="container mt-3">
        <div class="d-flex pd-2 bd-highlight row">
            <div class="col">
                <!-- 'Welcome' heading-->
                <h1 class="h1 col-sm-9">Edit Recipe</h1>
            </div>
            <div class="col">
                <!-- 'Create' button hyperlinked to 'recipes/new'-->
                <a href="/users/dashboard" class="btn-primary p-2 mt-4">Dashboard</a>
                <!-- 'Logout' button hyperlinked to URL '/users/logout/'-->
                <a href="/users/logout" class="btn-primary p-2 mt-4">Logout</a>  
            </div>
        </div>
    </div>
    <!-- User Input container------------------------------------------------------------------------>
    <div class="container">
        <form action="/recipes/update/{{recipe.id}}" method="post" class="col-sm-4">
            <div class="d-flex row nowrap">
                <!-- Column #1 -------------------------------------->
                <div class="col">
                    <!-- Name box-->
                    <div class="mb-3">
                        <label for="recipe_name" class="form-label">Name:</label>
                        <input type="text" name="recipe_name" value="{{recipe.name}}" id="recipe_name" class="form-control">
                        {% with messages = get_flashed_messages(with_categories=true) %} 
                            {% if messages %}                                            
                                {% for category, message in messages %}                  
                                    {% if category == 'rec_name'%}                     
                                        <div class="error">                              
                                            <p>{{message}}</p>                          
                                        </div>
                                    {% endif %}
                                {% endfor %} 
                            {% endif %}
                        {% endwith %}
                    </div>
                    <!-- Description box-->
                    <div class="mb-3">
                        <label for="description" class="form-label">Description:</label>
                        <input type="text" name="description" value="{{recipe.description}}" id="description" class="form-control">
                        {% with messages = get_flashed_messages(with_categories=true) %} 
                            {% if messages %}                                            
                                {% for category, message in messages %}                  
                                    {% if category == 'rec_desc'%}                     
                                        <div class="error">                              
                                            <p>{{message}}</p>                          
                                        </div>
                                    {% endif %}
                                {% endfor %} 
                            {% endif %}
                        {% endwith %}
                    </div>
                    <!-- Instructions box-->
                    <div class="mb-3">
                        <label for="instructions" class="form-label">Instructions:</label>
                        <textarea name="instructions" cols="50" rows="7" value="{{recipe.instructions}}" id="instructions" class="form-control"></textarea>
                        {% with messages = get_flashed_messages(with_categories=true) %} 
                            {% if messages %}                                            
                                {% for category, message in messages %}                  
                                    {% if category == 'rec_inst'%}                     
                                        <div class="error">                              
                                            <p>{{message}}</p>                          
                                        </div>
                                    {% endif %}
                                {% endfor %} 
                            {% endif %}
                        {% endwith %}
                    </div>
                </div>
                <!-- Column #2 -------------------------------------->
                <div class="col">
                    <!-- Date Mode On box-->
                    <div class="mb-3"> 
                        <label for="date_made_on">Date Made On:</label>
                        <input type="date" id="date_made_on" value="{{recipe.created_at}}" name="date_made_on">
                        {% with messages = get_flashed_messages(with_categories=true) %} 
                            {% if messages %}                                            
                                {% for category, message in messages %}                  
                                    {% if category == 'rec_date'%}                     
                                        <div class="error">                              
                                            <p>{{message}}</p>                          
                                        </div>
                                    {% endif %}
                                {% endfor %} 
                            {% endif %}
                        {% endwith %}
                    </div>  
                    <!-- Under 30 Minutes? radio box-->
                    <div class="mb-3">
                        <label for="duration">Under 30 Minutes?</label>
                        <!-- Radio boxes for 'Under 30 Minutes'-->
                        <div class="form-check">
                            <input class="form-check-input" type="radio" value="Yes" name="duration" id="true">
                            <label class="form-check-label" for="duration_yes">Yes</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" value="No" name="duration" id="false">
                            <label class="form-check-label" for="duration_no">No</label>
                        </div>
                        {% with messages = get_flashed_messages(with_categories=true) %} 
                            {% if messages %}                                            
                                {% for category, message in messages %}                  
                                    {% if category == 'rec_dur'%}                     
                                        <div class="error">                              
                                            <p>{{message}}</p>                          
                                        </div>
                                    {% endif %}
                                {% endfor %} 
                            {% endif %}
                        {% endwith %}
                    </div>
                </div>
                <!-- Update button-->
                <div class="mb-3">
                    <input type="submit" value="Update" class="btn-primary p-2">
                </div>
            </div>
        </form>
    </div>
</body>
</html>